{"version":3,"sources":["webpack:///webpack/bootstrap 1892095134a282019511","webpack:///./entry.js","webpack:///./keyEvents.js","webpack:///./drawer.js","webpack:///./mover.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,0BAA0B;AAC1C,iBAAgB,yBAAyB;AACzC,iBAAgB,0BAA0B;AAC1C,iBAAgB,0BAA0B;AAC1C,iBAAgB,0BAA0B;AAC1C,iBAAgB,0BAA0B;AAC1C,iBAAgB,yBAAyB;AACzC,iBAAgB,0BAA0B;AAC1C,iBAAgB,yBAAyB;AACzC,iBAAgB,0BAA0B;AAC1C,iBAAgB,0BAA0B;AAC1C,iBAAgB,0BAA0B;AAC1C,iBAAgB,0BAA0B;AAC1C,iBAAgB,2BAA2B;AAC3C,iBAAgB,2BAA2B;AAC3C,iBAAgB,2BAA2B;AAC3C;;AAEA;AACA;AACA;;AAEA;;AAEA,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA,iDAAgD,WAAW;AAC3D,uDAAsD,WAAW;AACjE,wDAAuD,WAAW;AAClE,yDAAwD,WAAW;AACnE,yDAAwD,WAAW;AACnE,WAAU;AACV;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA6B,mBAAmB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,IAAG;AACH;;;;;;;;AClUA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B,eAAc;AACd;AACA;AACA,2BAA0B;AAC1B,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA8B,mBAAmB;AACjD,4BAA2B;AAC3B;AACA;AACA,+BAA8B,mBAAmB;AACjD,4BAA2B;AAC3B;AACA;AACA,0BAAyB,eAAe;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACtDA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,qDAAoD,OAAO;AAC3D;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;;;;;;ACtNA;AACA;AACA;AACA;AACA,8BAA6B;AAC7B,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,4EAA2E,gBAAgB;AAC3F,4CAA2C,iBAAiB;AAC5D;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1892095134a282019511\n **/","window.onload = function () {\n  var canvas = document.getElementById(\"screen\"),\n    a = canvas.getContext(\"2d\");\n\nDEGREES = (Math.PI / 180);\nRADIANS = (180 / Math.PI);\n\nvar shield = {\n  color: \"#ffffff\",\n  health: 24\n};\n\nvar attacker = {\n  rate: 240\n};\n\nvar player = {\n  x: 300,\n  y: 482,\n  mobile: true,\n  health: 12,\n  spin: 0,\n  angle: 270,\n  xspeed: 0,\n  ready: false,\n  power: 16,\n  score: 0,\n  ammoIndex: 0,\n  ammoType: \"rocket\",\n  showShift: 0,\n  ammoStore: {\"rocket\": 2},\n  cooldown: 0,\n  overheat: 0,\n  fire: function (x, y, direction, speed) {\n    if (player.ammoType === \"rocket\") {\n      rockets.push(new Rocket(x, y, direction, speed, rockets.length));\n    } else if (player.ammoType === \"magnet\") {\n      rockets.push(new Magnet(x, y, direction, speed, rockets.length));\n    }\n    player.ammoStore[player.ammoType] -= 1;\n    if (player.ammoStore[player.ammoType] <= 0) {\n      player.toggleRocket();\n    }\n  },\n  toggleRocket: function () {\n    if (player.ammoIndex+1 === Object.keys(player.ammoStore).length) {\n      player.ammoIndex = 0;\n    } else {\n      player.ammoIndex += 1;\n    }\n    player.ammoType = Object.keys(player.ammoStore)[player.ammoIndex];\n  }\n};\n\nvar earth = {\n  y: 600,\n  timer: 0,\n  explosions: [{time: 3000, x: 60, y: 200},\n               {time: 3060, x: 80, y: 60},\n               {time: 3070, x: 160, y: 10},\n               {time: 3090, x: 50, y: 180},\n               {time: 3150, x: 200, y: 80},\n               {time: 3160, x: 90, y: 120},\n               {time: 3200, x: 90, y: 90},\n               {time: 3220, x: 60, y: 100},\n               {time: 3260, x: 80, y: 30},\n               {time: 3360, x: 160, y: 10},\n               {time: 3380, x: 50, y: 180},\n               {time: 3420, x: 200, y: 80},\n               {time: 3430, x: 90, y: 120},\n               {time: 3460, x: 110, y: 140},\n               {time: 3480, x: 100, y: 130},\n               {time: 3490, x: 100, y: 140}, ]\n};\n\nvar sun = {\n  y: -400\n};\n\nvar starfield = [];\n\nfor (var i = 0; i < 100; i++) {\n  var randX = Math.round(Math.random()*canvas.width);\n  var randY = Math.round(Math.random()*canvas.width);\n  var rad = Math.round(Math.random()*0.6+1);\n  starfield.push([randX, randY, rad]);\n}\n\nvar rockets = [];\nvar explosions = [];\nvar missiles = [];\nvar ghosts = [];\nvar lunamods = [];\nvar powerups = [];\n\nvar Rocket = function (x, y, degrees, power, idx) {\n  this.x = x;\n  this.y = y;\n  this.type = \"rocket\";\n  this.sprite = \"3_rocket\";\n  this.yaccel = 0.25;\n  this.idx = idx;\n  this.degrees = degrees;\n  this.power = power;\n  this.xspeed = this.power * Math.cos((this.degrees)*DEGREES);\n  this.yspeed = this.power * Math.sin((this.degrees)*DEGREES);\n  this.destroy = function () {\n    rockets[idx] = undefined;\n  };\n};\n\nvar Magnet = function (x, y, degrees, power, idx) {\n  this.x = x;\n  this.y = y;\n  this.type = \"magnet\";\n  this.sprite = \"3_magnet\";\n  this.yaccel = 0.25;\n  this.idx = idx;\n  this.degrees = degrees;\n  this.power = power;\n  this.xspeed = this.power * Math.cos((this.degrees)*DEGREES);\n  this.yspeed = this.power * Math.sin((this.degrees)*DEGREES);\n  this.destroy = function () {\n    rockets[idx] = undefined;\n  };\n};\n\nvar Missile = function (x, y, xspeed, yspeed, idx) {\n  this.x = x;\n  this.y = y;\n  this.xspeed = xspeed;\n  this.yspeed = yspeed;\n  this.idx = idx;\n  this.degrees = Math.atan(yspeed/xspeed)*RADIANS;\n  if (this.degrees < 0) {this.degrees+=180;}\n  this.yaccel = 0;\n  this.xaccel = 0;\n  this.destroy = function () {\n    missiles[this.idx] = undefined;\n    explosions.push(new Explosion(this.x, this.y, explosions.length));\n    if (attacker.rate > 120) {\n      attacker.rate -= 1;\n    }\n  };\n  this.rocketCollide = function () {\n    rockets.forEach(function (rocket, idx) {\n      if (rocket) {\n        if ((rocket.x > this.x-19 && rocket.x < this.x+19) &&\n        (rocket.y > this.y-19 && rocket.y < this.y+19)) {\n          player.score += 5;\n          this.destroy();\n        }\n        if (rocket.type === \"magnet\") {\n          if (this.x > rocket.x) {\n            this.xaccel = -0.05;\n          } else {\n            this.xaccel = 0.05;\n          }\n          if (this.y > rocket.y) {\n            this.yaccel = -0.05;\n          } else {\n            this.yaccel = 0.05;\n          }\n        }\n      }\n    }.bind(this));\n  };\n  this.clock = function () {\n    var clock;\n    if (this.degrees >= 0 & this.degrees < 36) { clock = 4; }\n    else if (this.degrees >= 36 & this.degrees < 72) { clock = 5; }\n    else if (this.degrees >= 72 & this.degrees < 108) { clock = 6; }\n    else if (this.degrees >= 108 & this.degrees < 144) { clock = 7; }\n    else if (this.degrees >= 144 & this.degrees < 180) { clock = 8; }\n    else {clock = 6;}\n    return clock;\n  }.bind(this);\n};\n\nvar Explosion = function (x, y, index) {\n  this.x = x;\n  this.y = y;\n  this.age = 0;\n  this.dice = 6;\n  this.destroy = function () {\n    explosions.splice(this.index, 1);\n  };\n};\n\nvar Ghost = function (x, y, degrees, idx) {\n  this.x = x;\n  this.y = y;\n  this.power = 2;\n  this.idx = idx;\n  this.degrees = degrees;\n  this.xspeed = this.power * Math.cos((this.degrees)*DEGREES);\n  this.yspeed = this.power * Math.sin((this.degrees)*DEGREES);\n  this.yaccel = 0;\n  this.deploy = function () {\n    this.x += (Math.random()*120)-60;\n    missiles.push(new Missile(this.x, this.y, this.xspeed*(-1), this.yspeed*(-1), missiles.length));\n    ghosts.splice(this.index, 1);\n  };\n  this.destroy = function () {\n    ghosts[this.idx] = undefined;\n  };\n};\n\nvar Powerup = function (x, y, type, sprite, idx) {\n  this.x = x;\n  this.y = y;\n  this.idx = idx;\n  this.type = type;\n  this.sprite = sprite;\n  this.yspeed = 0;\n  this.yaccel = 0.2;\n  this.playerCollide = function () {\n    if ((player.x > this.x-19 && player.x < this.x+19) &&\n    (player.y > this.y-19 && player.y < this.y+19)) {\n      if (player.score > 4) { player.score -= 5; }\n      this.destroy();\n    }\n  };\n  this.destroy = function () {\n    if (player.ammoStore[this.type]) {\n      player.ammoStore[this.type] += 1;\n    } else {\n      player.showShift = 3;\n      player.ammoStore[this.type] = 1;\n    }\n    powerups[this.idx] = undefined;\n  };\n};\n\nvar Lunamod = function (x, y, idx) {\n  this.x = x;\n  this.y = y;\n  this.yspeed = 0;\n  this.xspeed = 0;\n  this.yaccel = 0;\n  this.xaccel = 0;\n  this.hoverHeight = 200;\n  this.cargo = \"magnet-rocket\";\n  this.ammo = 11;\n  this.rocketCollide = function () {\n    rockets.forEach(function (rocket) {\n      if (rocket) {\n        if ((rocket.x > this.x-32 && rocket.x < this.x+32) &&\n        (rocket.y < this.y+32 && rocket.y > this.y-32)) {\n          player.score += 50;\n          this.destroy();\n        }\n      }\n    }.bind(this));\n  };\n  this.destroy = function () {\n    if (this.hoverHeight < 360) {\n      this.hoverHeight += 20;\n      this.y += 20;\n      explosions.push(new Explosion(this.x, this.y, explosions.length));\n    } else {\n      powerups.push(new Powerup(this.x, this.y-16, \"magnet\", \"3_magnet\", powerups.length));\n      explosions.push(new Explosion(this.x, this.y, explosions.length));\n      explosions.push(new Explosion(this.x+16, this.y+16, explosions.length));\n      explosions.push(new Explosion(this.x-22, this.y+8, explosions.length));\n      this.ammo = 11;\n      this.hoverHeight = 200;\n      this.x = 30000;\n    }\n  };\n};\n\na.deployGhost = function () {\n  var dice = Math.round(Math.random()*attacker.rate);\n  if (dice < 2) {\n    ghosts.push(new Ghost(450, 500, Math.round(Math.random()*4)*30+210, ghosts.length));\n  }\n};\n\nvar keyEvents = require('./keyEvents');\nkeyEvents(document, player);\n\nvar drawer = require('./drawer.js');\ndrawer(canvas, a, shield, player, rockets, explosions, missiles, ghosts, lunamods, earth, sun, starfield, powerups, Explosion);\n\nvar mover = require('./mover.js');\nmover(canvas, a, shield, player, rockets, explosions, missiles, ghosts, lunamods, powerups, Missile);\n\nghosts.push(new Ghost(450, 500, 240, ghosts.length));\nghosts.push(new Ghost(450, 500, 300, ghosts.length));\nlunamods.push(new Lunamod(33400, 80, lunamods.length));\npowerups.push(new Powerup(Math.random()*canvas.width, -6000, \"magnet\", \"3_magnet\", powerups.length));\n\n  setInterval(function() {\n    a.clearRect(0, 0, canvas.width, canvas.height);\n    a.fillStyle = \"black\";\n    a.fillRect(0, 0, canvas.width, canvas.height);\n\n    a.drawSky();\n\n    a.drawMoon();\n    a.movePlayer();\n    a.drawPlayer();\n\n    a.moveRockets();\n    a.drawRockets();\n    a.drawExplosions();\n\n    a.drawMissiles();\n    a.moveMissiles();\n\n    a.deployGhost();\n    a.moveGhosts();\n\n    a.drawLunamods();\n    a.moveLunamods();\n\n    a.drawPowerups();\n    a.movePowerups();\n\n    a.drawHealthBar();\n\n  }, 30);\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./entry.js\n ** module id = 0\n ** module chunks = 0\n **/","\nvar keyEvents = function (document, player) {\n  document.onkeydown = function (e) {\n    switch(e.keyCode) {\n    case 37: //right\n      if (player.mobile) {player.xspeed = -3;}\n        else {player.spin = -4;}\n      break;\n    case 39: //left\n      if (player.mobile) {player.xspeed = 3;}\n        else {player.spin = 4;}\n      break;\n    case 38: //up\n      player.mobile = true;\n      player.y = 482;\n      break;\n    case 40: //down\n      player.xspeed = 0;\n      player.mobile = false;\n      player.y = 488;\n      break;\n    case 32: //space\n      if (player.cooldown < 0 && player.overheat < 300) {\n        player.fire(player.x, player.y, player.angle, player.power);\n        player.cooldown = 16;\n        player.overheat += 100;\n      }\n      break;\n    }\n  };\n\n  document.onkeyup = function (e) {\n    switch(e.keyCode) {\n    case 37: //right\n      if (player.xspeed < 0) { player.xspeed = 0; }\n      if (!player.mobile) {player.spin = 0;}\n      break;\n    case 39: //left\n      if (player.xspeed > 0) { player.xspeed = 0; }\n      if (!player.mobile) {player.spin = 0;}\n      break;\n    case 32: //space\n      if (player.ready) { player.fire(); }\n      break;\n    case 16: //SHIFT\n      player.toggleRocket();\n      while (player.ammoStore[player.ammoType] <= 0) {\n        player.toggleRocket();\n      }\n      break;\n    }\n  };\n};\n\nmodule.exports = keyEvents;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./keyEvents.js\n ** module id = 1\n ** module chunks = 0\n **/","drawer = function (canvas, a, shield, player, rockets, explosions, missiles, ghosts, lunamods, earth, sun, starfield, powerups, Explosion) {\n\n  a.drawSky = function () {\n    starfield.forEach(function (star) {\n      a.fillStyle = \"#ffffff\";\n      a.beginPath();\n      a.arc(star[0], star[1], star[2], 0, 360*DEGREES, false);\n      a.fill();\n      star[1] -= 0.15;\n      if (star[1] < 0) {\n        star[1] = canvas.height;\n      }\n    });\n\n    var gradient = a.createRadialGradient(450,earth.y+152,200,450,earth.y+152,60);\n    gradient.addColorStop(0,\"black\");\n    gradient.addColorStop(1,\"blue\");\n    a.fillStyle = gradient;\n    a.beginPath();\n    a.arc(450, earth.y+152, 200, 0, 360*DEGREES, false);\n    a.fill();\n\n    a.drawImage(document.getElementById(\"earth\"), 300, earth.y, 300, 300);\n    a.globalAlpha = 0.75;\n    a.drawImage(document.getElementById(\"cloudcover\"), 300, earth.y, 300, 300);\n    a.globalAlpha = 1;\n    earth.y -= 0.2;\n    if (earth.y < -1760) {\n      earth.y = 900;\n    }\n\n    earth.timer += 1;\n    earth.explosions.forEach(function (explosion) {\n      if (earth.timer === explosion.time ||\n          earth.timer === explosion.time-140 ||\n          earth.timer === explosion.time-100 ||\n          earth.timer === explosion.time-130 ||\n          earth.timer === explosion.time-170 ||\n          earth.timer+120 === explosion.time) {\n        explosions.push(new Explosion(300+explosion.x, earth.y+explosion.y, explosions.length));\n      }\n    });\n\n    gradient = a.createRadialGradient(450,sun.y,200,450,sun.y,175);\n    gradient.addColorStop(0,\"black\");\n    gradient.addColorStop(1,\"#ffbe00\");\n    a.fillStyle = gradient;\n    a.beginPath();\n    a.arc(450, sun.y, 200, 0, 360*DEGREES, false);\n    a.fill();\n    sun.y -= 0.2;\n    if (sun.y < -1760) {\n      sun.y = 900;\n    }\n  };\n\n  a.drawMoon = function () {\n    a.fillStyle = \"#e0e0e5\";\n    a.fillRect(0, 500, canvas.width, 100);\n    a.fillStyle = shield.color;\n    a.beginPath();\n    a.arc(450, 500, 60, Math.PI, 0, false);\n    a.fill();\n\n    a.globalAlpha = 0;\n    if (sun.y > 400 && sun.y < 800) {\n      a.globalAlpha = 1;\n    }\n    if (sun.y > 600) {\n      a.globalAlpha = 1-(sun.y-600)/300;\n    }\n    if (sun.y < 400 && sun.y > 200) {\n      a.globalAlpha = (sun.y-200)/200;\n    }\n    a.fillStyle = \"#ffbe00\";\n    a.beginPath();\n    a.arc(450, 500, 60, Math.PI, 0, false);\n    a.fill();\n    a.globalAlpha = 1;\n\n    a.drawImage(document.getElementById(\"city\"), 400, 452, 96, 48);\n  };\n\n  a.drawPlayer = function () {\n    a.fillStyle = \"#008080\";\n    a.beginPath();\n    a.arc(player.x, player.y, 12, (player.angle+60)*DEGREES, (player.angle-60)*DEGREES, false);\n    a.fill();\n    a.drawImage(document.getElementById(\"chassis\"), player.x-16, player.y-19, 32, 32);\n  };\n\n  // ROCKETS are the player's defensive projectiles, MISSILES are the incoming enemy bombs\n  a.drawRockets = function () {\n    rockets.forEach(function (rocket) {\n      if (rocket) {\n        a.save();\n        a.translate(rocket.x, rocket.y);\n        a.rotate(rocket.degrees*DEGREES);\n        a.translate(-12, -12);\n        a.drawImage(document.getElementById(rocket.sprite), 0, 0, 24, 24);\n        a.restore();\n      }\n    });\n  };\n\n  a.drawExplosions = function () {\n    explosions.forEach(function (explosion) {\n      if (explosion) {\n        if (explosion.dice > 3) {\n          var radius = (Math.random()*12)+8;\n          var xoffset = (Math.random()*10)-5;\n          var yoffset = (Math.random()*10)-5;\n        }\n        explosion.dice = Math.random()*6;\n        a.fillStyle = \"#ffffff\";\n        a.beginPath();\n        a.arc(explosion.x+xoffset, explosion.y+yoffset, radius, 0, 360*DEGREES, false);\n        a.fill();\n        explosion.age += 1;\n        if (explosion.age > 16) {\n          explosion.destroy();\n        }\n      }\n    });\n  };\n\n  a.drawMissiles = function () {\n    missiles.forEach(function (missile) {\n      if (missile) {\n        a.save();\n        a.translate(missile.x, missile.y);\n        a.rotate(missile.degrees*DEGREES);\n        a.translate(-12, -12);\n        a.drawImage(document.getElementById(\"3_missile\"), 0, 0, 32, 32);\n        a.restore();\n        // a.fillStyle = \"white\";\n        // a.font = \"10px Courier\";\n        // a.fillText(missile.idx, missile.x-16, missile.y-16);\n      }\n    });\n  };\n\n  a.drawGhosts = function () {\n    ghosts.forEach(function (ghost) {\n      if (ghost) {\n        a.fillStyle = \"#0000ff\";\n        a.beginPath();\n        a.arc(ghost.x, ghost.y, 12, 0, 2*Math.PI, false);\n        a.fill();\n      }\n    });\n  };\n\n  a.drawLunamods = function () {\n    lunamods.forEach(function (lunamod) {\n      if (lunamod) {\n        a.drawImage(document.getElementById(\"lunamod\"), lunamod.x-24, lunamod.y-24, 48, 48);\n      }\n    });\n  };\n\n  a.drawPowerups = function () {\n    powerups.forEach(function (powerup) {\n      if (powerup) {\n        a.drawImage(document.getElementById(powerup.sprite), powerup.x-14, powerup.y-14, 28, 28);\n      }\n    });\n  };\n\n  a.drawHealthBar = function () {\n    if (player.health > 0) {\n      a.fillStyle = \"red\";\n      a.fillRect(10, 178, 20, (player.health/12)*220);\n    }\n    if (shield.health > 0) {\n      a.fillStyle = \"white\";\n      a.fillRect(44, 178, 20, (shield.health/24)*220);\n    }\n    var ammoSprite;\n    if (player.ammoType === \"rocket\") {\n      ammoSprite = \"3_rocket\";\n    } else if (player.ammoType === \"magnet\") {\n      ammoSprite = \"3_magnet\";\n    }\n    a.fillStyle = \"white\";\n    a.font = \"14px Courier\";\n    var scoreString = player.score.toString();\n    if (scoreString.length < 5) {\n      for (var i = 5-player.score.toString().length; i > 0; i--) {\n        scoreString = \"0\" + scoreString;\n      }\n    }\n\n    a.strokeStyle = \"white\";\n    a.lineWidth = 1;\n    a.fillText(scoreString, 16, 165);\n\n    if (player.showShift > 0.02) {\n      player.showShift -= 0.02;\n    }\n    a.globalAlpha = player.showShift;\n    a.strokeRect(91, 115, 53, 26);\n    a.fillStyle = \"white\";\n    a.font = \"14px Courier\";\n    a.fillText(\"SHIFT\", 96, 132);\n    a.globalAlpha = 1;\n\n    a.drawImage(document.getElementById(\"healthbar\"), 0, 100, 100, 400);\n    a.drawImage(document.getElementById(ammoSprite), 22, 112, 32, 32);\n  };\n\n};\n\n\nmodule.exports = drawer;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./drawer.js\n ** module id = 2\n ** module chunks = 0\n **/","mover = function (canvas, a, shield, player, rockets, explosions, missiles, ghosts, lunamods, powerups, Missile) {\n  a.movePlayer = function () {\n    player.x += player.xspeed;\n    player.angle += player.spin;\n    if (player.angle < 210) {player.angle = 210;}\n    if (player.angle > 330) {player.angle = 330;}\n    player.cooldown -= 1;\n    if (player.overheat > 2) {\n      player.overheat -= 3;\n    }\n    if (player.ammoStore[\"rocket\"] !== 2) {\n      player.ammoStore[\"rocket\"] = 2;\n    }\n  };\n\n  a.moveRockets = function () {\n    rockets.forEach(function (rocket) {\n      if (rocket) {\n        rocket.x += rocket.xspeed;\n        rocket.y += rocket.yspeed;\n        rocket.yspeed += rocket.yaccel;\n        rocket.degrees = Math.atan(rocket.yspeed/rocket.xspeed)*RADIANS;\n        if (rocket.xspeed < 0) {\n          rocket.degrees += 180;\n        }\n        if ( rocket.y > 500 ) {\n          rocket.destroy();\n          if (rocket.x > player.x-16 && rocket.x < player.x+16) {\n            player.health -= 2;\n          }\n        }\n      }\n    });\n  };\n\n  a.moveMissiles = function () {\n    missiles.forEach(function (missile) {\n      if (missile) {\n        missile.x += missile.xspeed;\n        missile.y += missile.yspeed;\n        missile.xspeed += missile.xaccel;\n        missile.yspeed += missile.yaccel;\n        missile.degrees = Math.atan(missile.yspeed/missile.xspeed)*RADIANS;\n        if (missile.xspeed < 0) {\n          missile.degrees += 180;\n        }\n        if (missile.rocketCollide()) {\n          missile.destroy();\n        }\n        if ( missile.y > 484 ) {\n          missile.destroy();\n          if ( missile.x > 385 && missile.x < 540) {\n            shield.health -= 2;\n          }\n          if (missile.x > player.x-16 && missile.x < player.x+16) {\n            player.health -= 3;\n          }\n        }\n      }\n    });\n  };\n\n  a.moveGhosts = function () {\n    ghosts.forEach(function (ghost) {\n      if (ghost) {\n        ghost.x += ghost.xspeed;\n        ghost.y += ghost.yspeed;\n        if ( ghost.y < -32 || ghost.x < -32 || ghost.x > canvas.width+32) { ghost.deploy(); }\n        if ( ghost.y > canvas.height+32 ) { ghost.destroy(); }\n      }\n    });\n  };\n\n  a.movePowerups = function () {\n    powerups.forEach(function (powerup) {\n      if (powerup) {\n        if (powerup.y < 496) {\n          powerup.y += powerup.yspeed;\n        } else {\n          powerup.y = 496;\n        }\n        if (powerup.yspeed < 10) {\n          powerup.yspeed += powerup.yaccel;\n        }\n        powerup.playerCollide();\n      }\n    });\n  };\n\n  a.moveLunamods = function () {\n    lunamods.forEach(function (lunamod) {\n      //HOVER\n      if (lunamod.y > lunamod.hoverHeight) {\n        lunamod.yaccel = -1;\n      } else if (lunamod.y < lunamod.hoverHeight) {\n        lunamod.yaccel = 0.1;\n      }\n      //SEEK X TARGET\n      if (lunamod.x > lunamod.x) {\n        lunamod.xaccel = -1;\n      } else if (lunamod.x < lunamod.x) {\n        lunamod.xaccel = 1;\n      }\n      //DROP AND RISE\n      var dice = Math.random()*900;\n      //FOLLOW PLAYER\n      if (dice < 200) {\n        if (lunamod.x > player.x) {\n          lunamod.xaccel = -1;\n        } else {\n          lunamod.xaccel = 1;\n        }\n      }\n      //FIRE MISSILES\n      if (lunamod.x > player.x-12 && lunamod.y < player.x+12) {\n        if (dice < 8) {\n          missiles.push(new Missile(lunamod.x, lunamod.y, 0, 6, missiles.length));\n          lunamod.ammo -= 1;\n        }\n      }\n      //RUN AWAY WHEN OUT OF AMMO\n      if (lunamod.ammo < 0) {\n        lunamod.y -= 12;\n        if (lunamod.y < -120) {\n          lunamod.x = -15000;\n          this.hoverHeight = 200;\n          lunamod.ammo = 11;\n        }\n      }\n      //BE VULNERABLE TO ROCKETS\n      lunamod.rocketCollide();\n      //ENACT SPEED AND ACCEL\n      if ((lunamod.yspeed < 10 && lunamod.yaccel > 0)||(lunamod.yspeed > -10 && lunamod.yaccel < 0)) {\n        lunamod.yspeed += lunamod.yaccel;\n      }\n      if ((lunamod.xspeed < 10 && lunamod.xaccel > 0)||(lunamod.xspeed > -10 && lunamod.xaccel < 0)) {\n        lunamod.xspeed += lunamod.xaccel;\n      }\n      lunamod.y += lunamod.yspeed;\n      lunamod.x += lunamod.xspeed;\n    });\n  };\n\n};\n\nmodule.exports = mover;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./mover.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}